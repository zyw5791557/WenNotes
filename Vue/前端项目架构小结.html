<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>前端项目架构小结</title>
<!--defaultCSS-->
</head>

<body>
<div id="WizHtmlContentId">

<!--WizHtmlContentBegin--><div>- &nbsp;&nbsp;<a href="https://lluvio.github.io/blog/front-end-architecture.html">https://lluvio.github.io/blog/front-end-architecture.html</a>&nbsp; &nbsp;&nbsp;</div><div><br></div><div><br></div><div><br></div><div><div id="preamble" class="status" style="color: rgb(51, 51, 51); font-family: 'Source Sans Pro', sans-serif; font-size: 18px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><nav style="float: right;"><a href="https://lluvio.github.io/blog/index.html" style="margin-right: 0.75em; padding: 0.25em; background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); border-radius: 3px; display: inline-block; color: rgb(0, 85, 153); text-decoration: none;">Index</a>&nbsp;<a href="https://lluvio.github.io/blog/about.html" style="margin-right: 0.75em; padding: 0.25em; background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); border-radius: 3px; display: inline-block; color: rgb(0, 85, 153); text-decoration: none;">About</a>&nbsp;<a href="https://github.com/lluvio" style="margin-right: 0.75em; padding: 0.25em; background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); border-radius: 3px; display: inline-block; color: rgb(0, 85, 153); text-decoration: none;">Github</a>&nbsp;<a href="https://lluvio.github.io/blog/sitemap.html" style="margin-right: 0.75em; padding: 0.25em; background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); border-radius: 3px; display: inline-block; color: rgb(0, 85, 153); text-decoration: none;">SiteMap</a></nav></div><div id="content" style="margin-right: auto; margin-left: auto; width: auto; color: rgb(51, 51, 51); font-family: 'Source Sans Pro', sans-serif; font-size: 18px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><h1 class="title" style="border-bottom-style: double; border-bottom-color: rgb(188, 188, 188); color: rgb(57, 61, 80); font-size: 2em; font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">前端项目架构小结</h1><div id="table-of-contents" style="border: 2px dashed rgb(204, 204, 204); border-radius: 5px; float: right; margin: 0.5em; padding: 1em; background-color: rgba(238, 238, 238, 0.498039); position: relative; max-height: 80%;"><h2 style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(182, 69, 51); font-size: 1.3em; display: inline-block; border-bottom-width: 1px; border-bottom-style: dashed;">Table of Contents</h2><div id="text-table-of-contents"><ul style="padding-left: 0.5em; list-style-type: none; margin-bottom: 0.75em; overflow: auto; z-index: 200;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org19bd003" style="color: rgb(0, 85, 153); text-decoration: none;">前端工程化流程</a><ul style="margin-left: 1.5em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orga631849" style="color: rgb(0, 85, 153); text-decoration: none;">模块化</a><ul style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgdb05745" style="color: rgb(0, 85, 153); text-decoration: none;">js 的模块化</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org141c872" style="color: rgb(0, 85, 153); text-decoration: none;">css 的模块化</a></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org9f4b184" style="color: rgb(0, 85, 153); text-decoration: none;">组件化</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgd1277e4" style="color: rgb(0, 85, 153); text-decoration: none;">规范化</a><ul style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgf6fa1d4" style="color: rgb(0, 85, 153); text-decoration: none;">编码规范</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org224e68b" style="color: rgb(0, 85, 153); text-decoration: none;">前后端接口规范</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org7876630" style="color: rgb(0, 85, 153); text-decoration: none;">版本控制</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org6530b51" style="color: rgb(0, 85, 153); text-decoration: none;">目录结构</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org63b29fd" style="color: rgb(0, 85, 153); text-decoration: none;">协作工具</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org323b8fd" style="color: rgb(0, 85, 153); text-decoration: none;">其它规范</a></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org99e9088" style="color: rgb(0, 85, 153); text-decoration: none;">自动化</a><ul style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org05f18c0" style="color: rgb(0, 85, 153); text-decoration: none;">环境控制</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orga266f07" style="color: rgb(0, 85, 153); text-decoration: none;">构建工具</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org5950a84" style="color: rgb(0, 85, 153); text-decoration: none;">持续化集成</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org65d0cda" style="color: rgb(0, 85, 153); text-decoration: none;">项目徽章</a></li></ul></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org5746605" style="color: rgb(0, 85, 153); text-decoration: none;">前端技术选型</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgc8b64ff" style="color: rgb(0, 85, 153); text-decoration: none;">前端项目配置</a><ul style="margin-left: 1.5em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org8df9cb4" style="color: rgb(0, 85, 153); text-decoration: none;">css</a><ul style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orge864024" style="color: rgb(0, 85, 153); text-decoration: none;">reset</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgd412380" style="color: rgb(0, 85, 153); text-decoration: none;">布局</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org655c032" style="color: rgb(0, 85, 153); text-decoration: none;">动画库</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgdfeb5d5" style="color: rgb(0, 85, 153); text-decoration: none;">sass</a></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgc2413be" style="color: rgb(0, 85, 153); text-decoration: none;">webpack</a><ul style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org86f0557" style="color: rgb(0, 85, 153); text-decoration: none;">noParse</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orga8a35c5" style="color: rgb(0, 85, 153); text-decoration: none;">alias</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org078d957" style="color: rgb(0, 85, 153); text-decoration: none;"><span class="todo TODO" style="color: rgb(183, 80, 80);">TODO</span>&nbsp;tree shaking</a></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#org1440425" style="color: rgb(0, 85, 153); text-decoration: none;">babel</a></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgd0df85a" style="color: rgb(0, 85, 153); text-decoration: none;">性能</a><ul style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgc1aa1c9" style="color: rgb(0, 85, 153); text-decoration: none;"><span class="todo TODO" style="color: rgb(183, 80, 80);">TODO</span>&nbsp;图片</a></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orgb0e6486" style="color: rgb(0, 85, 153); text-decoration: none;">前端常用库</a></li></ul></li><li style="font-size: 0.95em;"><a href="https://lluvio.github.io/blog/front-end-architecture.html#orga8777bd" style="color: rgb(0, 85, 153); text-decoration: none;">最后</a></li></ul></div></div><div id="outline-container-org19bd003" class="outline-2"><h2 id="org19bd003" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(182, 69, 51); font-size: 1.3em; display: inline-block; border-bottom-width: 1px; border-bottom-style: dashed;">前端工程化流程</h2><div class="outline-text-2" id="text-org19bd003"><p style="margin: 1em;">在知乎上看到&nbsp;<a href="https://www.zhihu.com/question/24558375" style="color: rgb(0, 85, 153); text-decoration: none; margin: 0px 5px;">赵雨森</a>&nbsp;提到前端工程化有四个方面，模块化、组件化、规范化、自动化，本人十分赞同，我在工作中也慢慢这几个方向作出了总结</p></div><div id="outline-container-orga631849" class="outline-3"><h3 id="orga631849" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">模块化</h3><div class="outline-text-3" id="text-orga631849"><p style="margin: 1em;">模块化只是在语言层面上，对代码的拆分；而组件化是基于模块化，在设计层面上，对UI（用户界面）的拆分</p></div><div id="outline-container-orgdb05745" class="outline-4"><h4 id="orgdb05745" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">js 的模块化</h4><div class="outline-text-4" id="text-orgdb05745"><p style="margin: 1em;">现在ES6已经在语言层面上规定了模块系统，完全可以取代现有的CommonJS和AMD规范，而且使用起来相当简洁</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">webpack + babel 将所有模块打包成一个文件加载</li><li style="font-size: 0.95em;">systemjs 分模块异步加载</li></ul></div></div><div id="outline-container-org141c872" class="outline-4"><h4 id="org141c872" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">css 的模块化</h4><div class="outline-text-4" id="text-org141c872"><p style="margin: 1em;">目前使用了这三方式处理:</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">使用 vuejs 的scoped style</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;采用一命名风格，推荐 BEM</li><li style="font-size: 0.95em;">采用一css预处理器，目前使用sass</li></ul></div></div></div><div id="outline-container-org9f4b184" class="outline-3"><h3 id="org9f4b184" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">组件化</h3><div class="outline-text-3" id="text-org9f4b184"><p style="margin: 1em;">组件化是基于模块化的，因为组件的单位可以有模板，样式加逻辑。</p><p style="margin: 1em;">另，将你所能看见到的视图(UI)进行合理拆分得到的单元，并能让它达到可复用程度，可称之为组件。组件的方案采用 vuejs 的单文件组件</p></div></div><div id="outline-container-orgd1277e4" class="outline-3"><h3 id="orgd1277e4" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">规范化</h3><div class="outline-text-3" id="text-orgd1277e4"><p style="margin: 1em;">为了更好的落实开发，可以制定一些规范</p></div><div id="outline-container-orgf6fa1d4" class="outline-4"><h4 id="orgf6fa1d4" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">编码规范</h4><div class="outline-text-4" id="text-orgf6fa1d4"><ol class="org-ol"><li style="font-size: 0.95em;">js使用eslint，目前采用 google 的 javascript style guide</li><li style="font-size: 0.95em;">css使用相应的stylelint</li><li style="font-size: 0.95em;">使用editorconfig，统一编辑器或ide的一些设定，如js缩进为2空格</li></ol></div></div><div id="outline-container-org224e68b" class="outline-4"><h4 id="org224e68b" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">前后端接口规范</h4><div class="outline-text-4" id="text-org224e68b"><p style="margin: 1em;">采用 restful 风格，接口描述使用swagger</p><p style="margin: 1em;">对于某些接口返回状态码还是中文结果，前端应尽量不让去判断状态，只作显示</p></div></div><div id="outline-container-org7876630" class="outline-4"><h4 id="org7876630" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">版本控制</h4><div class="outline-text-4" id="text-org7876630"><p style="margin: 1em;">node module 遵循unix的思想–do one thing and do it well，也因此单个上层的模块会依赖很多下层的模块，这可能会导致其中一个下层的模块改变，导致整个上层模块崩溃。</p><p style="margin: 1em;"><b>package.json 里的包版本号应写死，除非因某个包有了新需求特性，再去更新</b></p></div></div><div id="outline-container-org6530b51" class="outline-4"><h4 id="org6530b51" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">目录结构</h4><div class="outline-text-4" id="text-org6530b51"><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">文件名一律小写，<a href="http://www.ruanyifeng.com/blog/2017/02/filename-should-be-lowercase.html" style="color: rgb(0, 85, 153); text-decoration: none;">参考</a></li><li style="font-size: 0.95em;">采用就近原则</li></ul></div></div><div id="outline-container-org63b29fd" class="outline-4"><h4 id="org63b29fd" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">协作工具</h4><div class="outline-text-4" id="text-org63b29fd"><p style="margin: 1em;">这里指的是协作工具的采用</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">任务分配，trello/gitlab todo</li><li style="font-size: 0.95em;">代码仓库，gitlab</li><li style="font-size: 0.95em;">文档，gitlab wiki/trello</li><li style="font-size: 0.95em;">产品设计，sketch画图，inDesign写文档</li></ul></div></div><div id="outline-container-org323b8fd" class="outline-4"><h4 id="org323b8fd" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">其它规范</h4><div class="outline-text-4" id="text-org323b8fd"><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">开发环境。 推荐 unix，与部署环境统一，且前端许多工具对unix系友好</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;codereview</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;git提交描述规范，不规范就不允许提交</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;<a href="https://github.com/ruanyf/document-style-guide" style="color: rgb(0, 85, 153); text-decoration: none;">中文技术文档的写作规范</a></li></ul></div></div></div><div id="outline-container-org99e9088" class="outline-3"><h3 id="org99e9088" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">自动化</h3><div class="outline-text-3" id="text-org99e9088"></div><div id="outline-container-org05f18c0" class="outline-4"><h4 id="org05f18c0" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">环境控制</h4><div class="outline-text-4" id="text-org05f18c0"><p style="margin: 1em;">使用docker自动化部署，集群使用 kubernetes(k8s)</p></div></div><div id="outline-container-orga266f07" class="outline-4"><h4 id="orga266f07" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">构建工具</h4><div class="outline-text-4" id="text-orga266f07"><p style="margin: 1em;">目前使用webpack/rollup</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">图标使用 svg sprite</li><li style="font-size: 0.95em;">浏览器自动刷新，热加载</li><li style="font-size: 0.95em;">编译中间语言，如 es6/7，sass</li><li style="font-size: 0.95em;">js、css的压缩及混肴</li><li style="font-size: 0.95em;">压缩图片，一定大小内使用base64</li><li style="font-size: 0.95em;">根据文件内容生成哈希值，实现缓存控制</li><li style="font-size: 0.95em;">实现按需加载，见模块化部分</li><li style="font-size: 0.95em;">umd 打包</li></ul></div></div><div id="outline-container-org5950a84" class="outline-4"><h4 id="org5950a84" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">持续化集成</h4><div class="outline-text-4" id="text-org5950a84"><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">gitlab/git hook 实现 hook</li><li style="font-size: 0.95em;">jenkin/gitlab ci执行相应的构建脚本，并订阅构建结果</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;将构建结果打包，交给运维部署</li></ul></div></div><div id="outline-container-org65d0cda" class="outline-4"><h4 id="org65d0cda" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">项目徽章</h4><div class="outline-text-4" id="text-org65d0cda"><p style="margin: 1em;">无论是开源项目还是私有项目都可以使用徽章查看状态</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">travis/circle，持续集成</li><li style="font-size: 0.95em;">codacy，代码审查</li><li style="font-size: 0.95em;">npm，提供版本号，下载量等</li><li style="font-size: 0.95em;">开源许可，一般采用 mit</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;codecov，代码覆盖率检测</li><li class="off" style="font-size: 0.95em;"><code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">[&nbsp;]</code>&nbsp;saucellabs，跨浏览器集成测试</li></ul></div></div></div></div><div id="outline-container-org5746605" class="outline-2"><h2 id="org5746605" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(182, 69, 51); font-size: 1.3em; display: inline-block; border-bottom-width: 1px; border-bottom-style: dashed;">前端技术选型</h2><div class="outline-text-2" id="text-org5746605"><p style="margin: 1em;">基于以上工程化流程，技术选型如下：</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">基础库 vue</li><li style="font-size: 0.95em;">node中间层 koa</li><li style="font-size: 0.95em;">css预处理 sass</li><li style="font-size: 0.95em;">日志收集 sentry</li><li style="font-size: 0.95em;">前端测试框架 jasmine</li><li style="font-size: 0.95em;">构建工具 webpack/rollup</li><li style="font-size: 0.95em;">调试工具 chrome/ide/vue-dev-tools</li><li style="font-size: 0.95em;">后台进程管理 pm2</li><li style="font-size: 0.95em;">包管理工具 npm/yarn</li><li style="font-size: 0.95em;">前后端通信 json-rpc/swagger/graphql(查询)</li></ul></div></div><div id="outline-container-orgc8b64ff" class="outline-2"><h2 id="orgc8b64ff" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(182, 69, 51); font-size: 1.3em; display: inline-block; border-bottom-width: 1px; border-bottom-style: dashed;">前端项目配置</h2><div class="outline-text-2" id="text-orgc8b64ff"></div><div id="outline-container-org8df9cb4" class="outline-3"><h3 id="org8df9cb4" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">css</h3><div class="outline-text-3" id="text-org8df9cb4"></div><div id="outline-container-orge864024" class="outline-4"><h4 id="orge864024" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">reset</h4><div class="outline-text-4" id="text-orge864024"><p style="margin: 1em;">css reset 采用 normalize.css</p></div></div><div id="outline-container-orgd412380" class="outline-4"><h4 id="orgd412380" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">布局</h4><div class="outline-text-4" id="text-orgd412380"><p style="margin: 1em;">不考虑兼容的情况下，一维用 flexbox，二维用 css grid，单位 rem/vm vw，更改盒模型为 box-sizing减少padding和border的计算；考虑兼容性则使用 bootstrap3 提供的grid布局方案</p></div></div><div id="outline-container-org655c032" class="outline-4"><h4 id="org655c032" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">动画库</h4><div class="outline-text-4" id="text-org655c032"><p style="margin: 1em;">hover，animate.css，velocity</p></div></div><div id="outline-container-orgdfeb5d5" class="outline-4"><h4 id="orgdfeb5d5" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">sass</h4><div class="outline-text-4" id="text-orgdfeb5d5"><p style="margin: 1em;">sass 存在 Duplicate import problem</p><p style="margin: 1em;">暂时没去解决，现有以下可以解决办法</p><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">Extract File</li><li style="font-size: 0.95em;">Webpack loader global</li><li style="font-size: 0.95em;">Webpack 去重代码(待证实)</li><li style="font-size: 0.95em;">cssnano(推荐)</li></ul><p style="margin: 1em;">结论是尽量不要使用引用, variable或者function之类的可以使用</p><p style="margin: 1em;">参考地址&nbsp;<a href="http://ryerh.com/sass/2016/03/15/vue-webpack-duplicate-sass-import.html" style="color: rgb(0, 85, 153); text-decoration: none; margin: 0px 5px;">http://ryerh.com/sass/2016/03/15/vue-webpack-duplicate-sass-import.html</a></p></div></div></div><div id="outline-container-orgc2413be" class="outline-3"><h3 id="orgc2413be" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">webpack</h3><div class="outline-text-3" id="text-orgc2413be"></div><div id="outline-container-org86f0557" class="outline-4"><h4 id="org86f0557" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">noParse</h4><div class="outline-text-4" id="text-org86f0557"><p style="margin: 1em;">webpack会花很多的时间查找一个库的依赖，使用该参数可以在webpack 中忽略对已知文件的解析</p><p style="margin: 1em;">例如，这里我们可以确定 vue 是没有依赖项的，配置如下</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">// 支持正则匹配文件名
 module :{
   noParse: {
     'vue': './node_modules/vue/vue.min.js'
   }
 }
</pre></div><p style="margin: 1em;">这样我们在项目中可以使用</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">import vue from 'vue'
</pre></div></div></div><div id="outline-container-orga8a35c5" class="outline-4"><h4 id="orga8a35c5" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;">alias</h4><div class="outline-text-4" id="text-orga8a35c5"><p style="margin: 1em;">为引入模块提供别名，这个可以减少webpack去查找引入模块位置的时间，同时也为我们开发中引入公用模块提供方便</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">resolve: {
    alias: {
        'ui': path.resolve(__dirname, 'app/compontens/ui'),
        'fonts': path.resolve(__dirname, 'app/assets/fonts')
    }
}
</pre></div><p style="margin: 1em;">以上配置可以让我们在需要引用公用组件时不必考虑目录层级的问题</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">import modal from 'ui/modal.vue'
</pre></div><p style="margin: 1em;">css如果要使用webpack中的alias，需要在alias名前加上&nbsp;<code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">~</code></p><div class="org-src-container"><pre class="src src-css" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">@font-face {
    url( "~fonts/iconfont.woff") format('woff')
}
</pre></div></div></div><div id="outline-container-org078d957" class="outline-4"><h4 id="org078d957" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;"><span class="todo TODO" style="color: rgb(183, 80, 80);">TODO</span>&nbsp;tree shaking</h4><div class="outline-text-4" id="text-org078d957"><p style="margin: 1em;">让webpack理解es6 的导入机制，例如现在有两个文件</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">// utils.js
export function foo() {
    return 'foo';
}
export function bar() {
    return 'bar';
}
// app.js
import { foo } from './utils'
</pre></div><p style="margin: 1em;">如果不使用 tree-shaking，app.js编译输出为</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">/***/ function(module, exports) {

  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.foo = foo;
  exports.bar = bar;
  // utils.js
  function foo() {
    return 'foo';
  }
  function bar() {
    return 'bar';
  }

/***/ }
</pre></div><p style="margin: 1em;">可以看到上面包含了 foo 和 bar 两个函数，把utils里的内容全部打包进去了，如果使用tree-shaking，输出结果是这样的</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ __webpack_exports__["a"] = foo;
/* unused harmony export bar */
// utils.js
function foo() {
  return 'foo';
}
function bar() {
  return 'bar';
}
/***/ }),
</pre></div><p style="margin: 1em;">我们可以看到哪些方法是没有被使用的，你可以通过&nbsp;<code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">--optimize-minimize</code>&nbsp;参数压缩代码剔除未被使用的函数</p><div class="org-src-container"><pre class="src src-js" style="border: 3px solid rgb(209, 102, 102); background: rgb(40, 41, 45); font-family: Consolas, Monaco, &quot;Lucida Console&quot;, &quot;Liberation Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;; font-size: 0.85em; white-space: pre-wrap; word-wrap: break-word; color: rgb(220, 220, 204); padding: 5pt; margin: 1em;">// 脚本
  "scripts": {
    "build": "webpack --optimize-minimize",
    "seebuild": "webpack"
  }

// 通过格式工具查看到的结果
function(t, e, n) {
  "use strict";
  function r() {
    return "foo"
  }
  e.a = r
}
</pre></div><p style="margin: 1em;">已经没有bar了</p></div></div></div><div id="outline-container-org1440425" class="outline-3"><h3 id="org1440425" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">babel</h3><div class="outline-text-3" id="text-org1440425"><p style="margin: 1em;">在项目下创建一个&nbsp;<code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">.babelrc</code>&nbsp;的配置文件。目前通过插件babel主要提供了以下几个功能</p><ol class="org-ol"><li style="font-size: 0.95em;">在vue中异步加载可将 system.import 转为 import()</li><li style="font-size: 0.95em;">使用 tree shaking</li><li style="font-size: 0.95em;">使用 es6/7 语法及特性</li></ol></div></div><div id="outline-container-orgd0df85a" class="outline-3"><h3 id="orgd0df85a" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">性能</h3><div class="outline-text-3" id="text-orgd0df85a"></div><div id="outline-container-orgc1aa1c9" class="outline-4"><h4 id="orgc1aa1c9" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em;"><span class="todo TODO" style="color: rgb(183, 80, 80);">TODO</span>&nbsp;图片</h4><div class="outline-text-4" id="text-orgc1aa1c9"><ul class="org-ul" style="margin-left: 2em; padding-left: 0.5em;"><li style="font-size: 0.95em;">预加载 例如用户输入账号的时候通过&nbsp;<code style="font-family: Monaco, &quot;Courier New&quot;, Courier; padding: 2px 4px; color: rgb(221, 17, 68); white-space: nowrap; background-color: rgb(247, 247, 249); border: 1px solid rgb(225, 225, 232); font-size: 0.85em;">new Image()</code>&nbsp;预先加载图片</li><li style="font-size: 0.95em;">cdn服务</li></ul></div></div></div><div id="outline-container-orgb0e6486" class="outline-3"><h3 id="orgb0e6486" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(108, 158, 84); font-size: 1.1em;">前端常用库</h3><div class="outline-text-3" id="text-orgb0e6486"><p style="margin: 1em;">待补充</p></div></div></div><div id="outline-container-orga8777bd" class="outline-2"><h2 id="orga8777bd" style="font-family: Berylium, 'Book Antiqua'; margin-top: 1.5em; margin-bottom: 0.5em; color: rgb(182, 69, 51); font-size: 1.3em; display: inline-block; border-bottom-width: 1px; border-bottom-style: dashed;">最后</h2><div class="outline-text-2" id="text-orga8777bd"><p style="margin: 1em;">附上一个后台项目&nbsp;<a href="https://github.com/lluvio/vue-element" style="color: rgb(0, 85, 153); text-decoration: none; margin: 0px 5px;">demo</a></p></div></div></div><div id="postamble" class="status" style="color: rgb(51, 51, 51); font-family: 'Source Sans Pro', sans-serif; font-size: 18px; font-variant-ligatures: normal; orphans: 2; widows: 2;"><hr class="comment" style="border: 0px; height: 1px; background: -webkit-linear-gradient(left, rgb(204, 204, 204), rgb(51, 51, 51), rgb(204, 204, 204)) rgb(51, 51, 51);"><section class="comment"><button class="btn show-comments" style="width: 1703px; margin-bottom: 0px; vertical-align: middle; cursor: pointer; border: 1px solid transparent; white-space: nowrap; padding: 6px 12px; font-size: 14px; line-height: 1.42857; border-radius: 4px; background-image: none;">Load Disqus comments</button><div id="disqus_thread"></div></section><footer style="border-top: 1px solid rgb(85, 85, 85); font-size: small; color: rgb(85, 85, 85); margin-top: 2em; padding: 1em 0px; text-align: right;">|采用<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" style="color: rgb(0, 85, 153); text-decoration: none;">CC BY-NC-SA 3.0</a>授权|由<a href="http://orgmode.org/" style="color: rgb(0, 85, 153); text-decoration: none;">Org Mode</a>自动生成|部署在<a href="https://github.com/lluvio/blog" style="color: rgb(0, 85, 153); text-decoration: none;">Github Pages</a>|</footer></div></div><!--WizHtmlContentEnd-->

</div>
</body>

</html>