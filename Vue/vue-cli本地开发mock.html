<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>vue-cli本地开发mock</title>
<!--defaultCSS-->
</head>

<body>
<div id="WizHtmlContentId">

<!--WizHtmlContentBegin-->- &nbsp;<a href="http://www.jianshu.com/p/ccd53488a61b">http://www.jianshu.com/p/ccd53488a61b</a>&nbsp; &nbsp;<div><br></div><div><br></div><div><h1 class="title" style="box-sizing: border-box; font-size: 34px; margin-top: 20px; margin-bottom: 0px; font-family: -apple-system, 'SF UI Display', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; line-height: 1.3; color: rgb(51, 51, 51); word-break: break-word; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);">vue-cli 本地开发mock数据使用方法</h1><div class="author" style="box-sizing: border-box; margin-top: 30px; margin-bottom: 40px; color: rgb(51, 51, 51); font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-size: 17px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);"><a class="avatar" href="http://www.jianshu.com/u/1498fdad05eb" style="box-sizing: border-box; background-color: transparent; color: rgb(51, 51, 51); text-decoration: none; cursor: pointer; width: 48px; height: 48px; display: inline-block; vertical-align: middle;"><img src="vue-cli本地开发mock_files/0.5264614275583306.png" alt="144" style="box-sizing: border-box; border: 1px solid rgb(221, 221, 221); vertical-align: middle; width: 48px; height: 48px; border-radius: 50%;"></a>&nbsp;<div class="info" style="box-sizing: border-box; vertical-align: middle; display: inline-block; margin-left: 8px;"><span class="tag" style="box-sizing: border-box; padding: 1px 2px; font-size: 12px; color: rgb(234, 111, 90); border: 1px solid rgb(234, 111, 90); border-radius: 3px;">作者</span>&nbsp;<span class="name" style="box-sizing: border-box; margin-left: 3px; margin-right: 3px; font-size: 16px; vertical-align: middle;"><a href="http://www.jianshu.com/u/1498fdad05eb" style="box-sizing: border-box; background-color: transparent; color: rgb(51, 51, 51); text-decoration: none; cursor: pointer;">萝卜粥_Carrot</a></span>&nbsp;<a class="btn btn-success follow" style="box-sizing: border-box; color: rgb(255, 255, 255); cursor: pointer; display: inline-block; margin-bottom: 0px; text-align: center; vertical-align: middle; touch-action: manipulation; border: 1px solid rgb(66, 192, 46); white-space: nowrap; padding: 0px 7px 0px 5px; font-size: 12px; line-height: normal; border-radius: 40px; background-image: none; background-color: rgb(66, 192, 46);"><span class="iconfont ic-follow" style="box-sizing: border-box; font-size: inherit; -webkit-font-smoothing: antialiased; font-family: iconfont !important;"></span><span style="box-sizing: border-box; margin-left: 2px;">关注</span></a><div class="meta" style="box-sizing: border-box; margin-top: 5px; font-size: 12px; color: rgb(150, 150, 150);"><span class="publish-time" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="最后编辑于 2017.03.02 17:34" style="box-sizing: border-box; padding-right: 5px;">2017.03.02 16:59*</span>&nbsp;<span class="wordage" style="box-sizing: border-box; padding-right: 5px;">字数 804</span>&nbsp;<span class="views-count" style="box-sizing: border-box; padding-right: 5px;">阅读 2489</span><span class="comments-count" style="box-sizing: border-box; padding-right: 5px;">评论 2</span><span class="likes-count" style="box-sizing: border-box; padding-right: 5px;">喜欢 6</span></div></div></div><div class="show-content" style="box-sizing: border-box; color: rgb(47, 47, 47); word-break: break-word; font-size: 16px; line-height: 1.7; font-family: -apple-system, 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);"><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">vue-cli 中可以通过配置 proxyTable 解决开发环境的跨域问题，具体可以参考这篇文章：<br style="box-sizing: border-box;"><a href="http://www.jianshu.com/p/95b2caf7e0da" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">Vue-cli proxyTable 解决开发环境的跨域问题</a></p><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">如果后端接口尚未开发完成，前端开发一般使用mock数据。<br style="box-sizing: border-box;">mock方法有多种多样，这里给出两种：</p><h2 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 24px; text-rendering: optimizeLegibility;">方法一： 使用express搭建静态服务</h2><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">mock数据写在json文件中，proxyTable 里将接口代理到具体mock数据json文件上。<br style="box-sizing: border-box;"><span style="box-sizing: border-box; font-weight: 700;">具体方法：</span></p><ul style="box-sizing: border-box; margin-bottom: 20px; padding: 0px; word-break: break-word; margin-left: 22px;"><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;">创建&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">mock</code>&nbsp;文件夹</li><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">build/dev-server.js</code>&nbsp;中添加如下代码</li></ul><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.31556801880000407.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-64aedcf8136aac6c.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">npm run dev</code>&nbsp;启动后，可以通过&nbsp;<a href="http://localhost:8080/mock/db.json" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">http://localhost:8080/mock/db.json</a>&nbsp;访问数据，proxyTable对应设置代理即可（代理设置方法与解决跨域方法相似）</p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.6135318302181405.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-eb85e1215072b1eb.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><h2 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 24px; text-rendering: optimizeLegibility;">方法二 使用 JSON Server 搭建 Mock 服务器</h2><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;"><a href="https://github.com/typicode/json-server" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">JSON Server</a>&nbsp;是一个创建伪RESTful服务器的工具，具体使用方法可以看官方文档，这里直接讲在vue-cli 中的用法。</p><h3 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 22px; text-rendering: optimizeLegibility;">配置流程</h3><ul style="box-sizing: border-box; margin-bottom: 20px; padding: 0px; word-break: break-word; margin-left: 22px;"><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;">全局安装&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">$ npm install -g json-server</code></li><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;">项目目录下创建&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">mock</code>&nbsp;文件夹</li><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">mock</code>&nbsp;文件夹下添加&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">db.json</code>&nbsp;文件，内容如下</li></ul><pre class="hljs json" style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 15px; margin-top: 0px; margin-bottom: 20px; line-height: 1.42857; word-break: break-word; word-wrap: normal; color: rgb(101, 123, 131); border: 1px solid rgb(204, 204, 204); border-radius: 0px; background: rgb(246, 246, 246);"><code class="json" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; border-radius: 0px; padding: 0px; border: none; background-color: transparent;">{
  <span class="hljs-attr" style="box-sizing: border-box;">"posts"</span>: [
    { <span class="hljs-attr" style="box-sizing: border-box;">"id"</span>: <span class="hljs-number" style="box-sizing: border-box; color: rgb(42, 161, 152);">1</span>, <span class="hljs-attr" style="box-sizing: border-box;">"title"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"json-server"</span>, <span class="hljs-attr" style="box-sizing: border-box;">"author"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"typicode"</span> }
  ],
  <span class="hljs-attr" style="box-sizing: border-box;">"comments"</span>: [
    { <span class="hljs-attr" style="box-sizing: border-box;">"id"</span>: <span class="hljs-number" style="box-sizing: border-box; color: rgb(42, 161, 152);">1</span>, <span class="hljs-attr" style="box-sizing: border-box;">"body"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"some comment"</span>, <span class="hljs-attr" style="box-sizing: border-box;">"postId"</span>: <span class="hljs-number" style="box-sizing: border-box; color: rgb(42, 161, 152);">1</span> }
  ],
  <span class="hljs-attr" style="box-sizing: border-box;">"profile"</span>: { <span class="hljs-attr" style="box-sizing: border-box;">"name"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"typicode"</span> }
}</code></pre><ul style="box-sizing: border-box; margin-bottom: 20px; padding: 0px; word-break: break-word; margin-left: 22px;"><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">package.json</code>&nbsp;添加命令<pre class="hljs 1c" style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 15px; margin-top: 0px; margin-bottom: 20px; line-height: 1.42857; word-break: break-word; word-wrap: normal; color: rgb(101, 123, 131); border: 1px solid rgb(204, 204, 204); border-radius: 0px; background: rgb(246, 246, 246);"><code class="1c" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; border-radius: 0px; padding: 0px; border: none; background-color: transparent;"><span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"mock"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"json-server --watch mock/db.json"</span>,
  <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"mockdev"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"npm run mock &amp; npm run dev"</span></code></pre><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; text-align: center; width: auto !important;"><img src="vue-cli本地开发mock_files/0.7081112734424493.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-419846b1d54d3d24.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div></li></ul><h3 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 22px; text-rendering: optimizeLegibility;">启动 mock 服务器</h3><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">$ npm run mock</code>&nbsp;命令 运行 mock server<br style="box-sizing: border-box;">访问&nbsp;<a href="http://localhost:3000/" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">http://localhost:3000/</a><br style="box-sizing: border-box;">发现&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">db.json</code>&nbsp;下第一级 json 对象被解析成为可访问路径</p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.11039516464673538.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-349bfc482aba7065.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">GET请求具体路径 如：<a href="http://localhost:3000/posts" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">http://localhost:3000/posts</a>&nbsp;可获取数据</p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.2761152719993214.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-8150da6fd1f6bd54.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><h3 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 22px; text-rendering: optimizeLegibility;">faker.js 批量生成伪数据</h3><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">如果需要大量的伪数据，手动构造比较费时费力，可以使用&nbsp;<a href="https://github.com/Marak/faker.js" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">faker.js</a>&nbsp;批量生成。faker.js 的具体使用参见官方文档，这里做一个示例。</p><ul style="box-sizing: border-box; margin-bottom: 20px; padding: 0px; word-break: break-word; margin-left: 22px;"><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">$ cnpm install faker -G</code>&nbsp;全局安装 faker</li><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">mock</code>&nbsp;目录下创建&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">faker-data.js</code>，内容如下<pre class="hljs qml" style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 15px; margin-top: 0px; margin-bottom: 20px; line-height: 1.42857; word-break: break-word; word-wrap: normal; color: rgb(101, 123, 131); border: 1px solid rgb(204, 204, 204); border-radius: 0px; background: rgb(246, 246, 246);"><code class="qml" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; border-radius: 0px; padding: 0px; border: none; background-color: transparent;"><span class="hljs-built_in" style="box-sizing: border-box; color: rgb(38, 139, 210);">module</span>.exports = <span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">function</span> (<span class="hljs-params" style="box-sizing: border-box;"></span>) </span>{
 <span class="hljs-built_in" style="box-sizing: border-box; color: rgb(38, 139, 210);">var</span> faker = <span class="hljs-built_in" style="box-sizing: border-box; color: rgb(38, 139, 210);">require</span>(<span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"faker"</span>);
 faker.locale = <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"zh_CN"</span>;
 <span class="hljs-built_in" style="box-sizing: border-box; color: rgb(38, 139, 210);">var</span> _ = <span class="hljs-built_in" style="box-sizing: border-box; color: rgb(38, 139, 210);">require</span>(<span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"lodash"</span>);
 <span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> {
     <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">people</span>: _.times(<span class="hljs-number" style="box-sizing: border-box; color: rgb(42, 161, 152);">100</span>, <span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">function</span> (<span class="hljs-params" style="box-sizing: border-box;">n</span>) </span>{
         <span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> {
             <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">id:</span><span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);"> n</span>,
             <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">name</span>: faker.name.findName(),
             <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">avatar</span>: faker.internet.avatar()
         }
     }),
     <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">address</span>: _.times(<span class="hljs-number" style="box-sizing: border-box; color: rgb(42, 161, 152);">100</span>, <span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">function</span> (<span class="hljs-params" style="box-sizing: border-box;">n</span>) </span>{
         <span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">return</span> {
             <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">id:</span><span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);"> faker.random.uuid</span>(),
             <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">city</span>: faker.address.city(),
             <span class="hljs-attribute" style="box-sizing: border-box; color: rgb(181, 137, 0);">county</span>: faker.address.county()
         }
     })
 }
}</code></pre></li><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">$ json-server mock/faker-data.js</code>&nbsp;在 json server 中使用 faker<br style="box-sizing: border-box;">请求&nbsp;<a href="http://localhost:3000/address" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">http://localhost:3000/address</a>&nbsp;可以获取到随机生成的100组伪数据</li></ul><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.9248434925274038.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-3a978cbe0d6f3c11.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><h3 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 22px; text-rendering: optimizeLegibility;">添加中间件</h3><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">json server 使用&nbsp;<a href="http://www.ruanyifeng.com/blog/2011/09/restful" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">RESTful 架构</a>，GET请求可以获取数据，POST 请求则是添加数据。<br style="box-sizing: border-box;">在开发过程中，有时候想直接模拟获取POST请求返回结果，可以添加 express 中间件 将POST请求转为GET请求。</p><ul style="box-sizing: border-box; margin-bottom: 20px; padding: 0px; word-break: break-word; margin-left: 22px;"><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">mock</code>&nbsp;目录下创建&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">post-to-get.js</code>，内容如下<pre class="hljs accesslog" style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 15px; margin-top: 0px; margin-bottom: 20px; line-height: 1.42857; word-break: break-word; word-wrap: normal; color: rgb(101, 123, 131); border: 1px solid rgb(204, 204, 204); border-radius: 0px; background: rgb(246, 246, 246);"><code class="accesslog" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; border-radius: 0px; padding: 0px; border: none; background-color: transparent;">module.exports = function (req, res, next) {
req.method = <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"<span class="hljs-keyword" style="box-sizing: border-box; color: rgb(133, 153, 0);">GET</span>"</span>;
next();
}</code></pre></li><li style="box-sizing: border-box; line-height: 30px; margin-bottom: 10px;">启动命令添加运行中间件&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">--m mock/post-to-get.js</code><pre class="hljs 1c" style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 15px; margin-top: 0px; margin-bottom: 20px; line-height: 1.42857; word-break: break-word; word-wrap: normal; color: rgb(101, 123, 131); border: 1px solid rgb(204, 204, 204); border-radius: 0px; background: rgb(246, 246, 246);"><code class="1c" style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 12px; border-radius: 0px; padding: 0px; border: none; background-color: transparent;"><span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"mock"</span>: <span class="hljs-string" style="box-sizing: border-box; color: rgb(42, 161, 152);">"json-server --watch mock/db.json --m mock/post-to-get.js"</span>,</code></pre></li></ul><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">重新启动服务，POST请求就被转换为GET请求了</p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.4923889528265175.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-d62321826379a90a.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">其他需求也可以通过添加不同的中间件实现。</p><h3 style="box-sizing: border-box; font-family: inherit; line-height: 1.7; margin-top: 0px; margin-bottom: 15px; font-size: 22px; text-rendering: optimizeLegibility;">代理设置</h3><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">在&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">config/index.js</code>&nbsp;的&nbsp;<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">proxyTable</code>&nbsp;将请求映射到&nbsp;<a href="http://localhost:3000/" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">http://localhost:3000</a></p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.026330326271227555.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-1629801bae740557.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">代码中添加请求以测试效果</p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.5664640639931731.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-0206a52db3368cfc.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(101, 123, 131); background-color: rgb(246, 246, 246); border-radius: 4px; padding: 2px 4px; border: none; white-space: pre-wrap;">$ npm run mockdev</code>&nbsp;启动带mock 数据的本地服务</p><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">结果如下：<br style="box-sizing: border-box;"></p><div class="image-package" style="box-sizing: border-box; padding-bottom: 25px; width: 700px; margin-left: -40px; text-align: center;"><img src="vue-cli本地开发mock_files/0.6114586983240036.png" data-original-src="http://upload-images.jianshu.io/upload_images/1651860-da5fcadfbd4a7f7d.png?imageMogr2/auto-orient/strip%7CimageView2/2" style="box-sizing: border-box; vertical-align: middle; cursor: zoom-in; transition: all 0.25s ease-in-out;"><br style="box-sizing: border-box;"></div><p style="box-sizing: border-box; margin-bottom: 25px; word-break: break-word;">整体代码：<a href="https://github.com/carrotz/vue-cli-mock" target="_blank" style="box-sizing: border-box; background-color: transparent; color: rgb(49, 148, 208); text-decoration: none; cursor: pointer;">https://github.com/carrotz/vue-cli-mock</a></p></div></div><!--WizHtmlContentEnd-->

</div>
</body>

</html>