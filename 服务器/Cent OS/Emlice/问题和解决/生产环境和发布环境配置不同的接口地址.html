<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<title>生产环境和发布环境配置不同的接口地址</title>
<!--defaultCSS-->
</head>

<body>
<div id="WizHtmlContentId">

<!--WizHtmlContentBegin--><div>参考 -&nbsp;<a href="http://blog.csdn.net/fungleo/article/details/54574049">http://blog.csdn.net/fungleo/article/details/54574049</a>&nbsp;&nbsp;</div><div><br></div><div></div><h1 id="vue-利用-webpack-给生产环境和发布环境配置不同的接口地址" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.6rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">VUE 利用 webpack 给生产环境和发布环境配置不同的接口地址</h1><h2 id="前言" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t1" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>前言</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">我们在开发项目的时候，往往会在同一个局域网进行开发，前后端分离同时进行开发。我们前端调用后端给的接口也是在局域网内部的。但是，当项目推到线上的时候，我们会从真实服务器上获取接口，因此，我们可能在<a href="http://lib.csdn.net/base/softwaretest" class="replace_word" title="软件测试知识库" target="_blank" style="text-decoration:none;color:rgb(223, 52, 52);font-weight:bold;">测试</a>接口和真实接口之间频繁切换，让人十分恶心。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">因此，我们有必要想办法解决这个问题。</p><blockquote style="margin:0px 0px 1.1em;padding:15px 20px;background-color:rgba(128, 128, 128, 0.05);color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><h2 id="第一步分别设置不同的接口地址" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t2" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>第一步，分别设置不同的接口地址</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">首先，我们分别找到下面的文件：</p><div class="wiz-code-container" id="wiz_cm_1504260142765_9446"  data-mode="JavaScript" data-theme="default"><textarea style="display: none;">/config/dev.env.js
/config/prod.env.js</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142765_9446"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 50px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string-2">/config/</span><span class="cm-variable">dev</span>.<span class="cm-property">env</span>.<span class="cm-property">js</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">/</span><span class="cm-variable">config</span><span class="cm-operator">/</span><span class="cm-variable">prod</span>.<span class="cm-property">env</span>.<span class="cm-property">js</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="height: 80px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">其实，这两个文件就是针对生产环境和发布环境设置不同参数的文件。我们打开<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">dev.en.<a href="http://lib.csdn.net/base/javascript" class="replace_word" title="JavaScript知识库" target="_blank" style="text-decoration:none;color:rgb(223, 52, 52);font-weight:bold;">js</a></code>文件。代码如下：</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142753_7120"  data-theme="default"><textarea style="display: none;">var merge = require('webpack-merge')
var prodEnv = require('./prod.env')

module.exports = merge(prodEnv, {
  NODE_ENV: '"development"'
})</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142753_7120"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 134px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">merge</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'webpack-merge'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">prodEnv</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'./prod.env'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">module</span>.<span class="cm-property">exports</span> <span class="cm-operator">=</span> <span class="cm-variable">merge</span>(<span class="cm-variable">prodEnv</span>, {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">NODE_ENV</span>: <span class="cm-string">'"development"'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="height: 164px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">好，我们在<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">NODE_ENV</code>下面增加一项，代码如下：</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142732_3914"  data-theme="default"><textarea style="display: none;">var merge = require('webpack-merge')
var prodEnv = require('./prod.env')

module.exports = merge(prodEnv, {
  NODE_ENV: '"development"',
  API_ROOT: '"//192.168.1.8/api"'
})</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142732_3914"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 155px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span></span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">merge</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'webpack-merge'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">prodEnv</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'./prod.env'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">module</span>.<span class="cm-property">exports</span> <span class="cm-operator">=</span> <span class="cm-variable">merge</span>(<span class="cm-variable">prodEnv</span>, {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">NODE_ENV</span>: <span class="cm-string">'"development"'</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">API_ROOT</span>: <span class="cm-string">'"//192.168.1.8/api"'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 155px;"></div><div class="CodeMirror-gutters" style="height: 185px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">然后，我们编辑<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">prod.env.js</code>文件，</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142719_2668"  data-theme="default"><textarea style="display: none;">module.exports = {
  NODE_ENV: '"production"',
  API_ROOT: '"//www.baidu.com/api"'
}</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142719_2668"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 92px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>4</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">module</span>.<span class="cm-property">exports</span> <span class="cm-operator">=</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">NODE_ENV</span>: <span class="cm-string">'"production"'</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">API_ROOT</span>: <span class="cm-string">'"//www.baidu.com/api"'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="height: 122px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">好。我们分别设定的路径已经有了。下面就是如何调用的问题了。</p><h2 id="第二部在代码中调用设置好的参数" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t3" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>第二部，在代码中调用设置好的参数</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">以我们之前的演示代码为例。你自己的项目请根据你自己的情况调整。以下文件和代码仅供参考。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">我们打开<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">src/config/api.js</code>文件，将原来开头的代码</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142710_7833"  data-theme="default"><textarea style="display: none;">// 配置API接口地址
var root = 'https://cnodejs.org/api/v1'</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142710_7833"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 50px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 配置API接口地址</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">root</span> <span class="cm-operator">=</span> <span class="cm-string">'https://cnodejs.org/api/v1'</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="height: 80px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">修改为</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142694_6592"  data-theme="default"><textarea style="display: none;">// 配置API接口地址
var root = process.env.API_ROOT</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142694_6592"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 50px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 配置API接口地址</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">root</span> <span class="cm-operator">=</span> <span class="cm-variable">process</span>.<span class="cm-property">env</span>.<span class="cm-property">API_ROOT</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="height: 80px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">然后就完成了我们的配置工作。最后，重启项目，就能使新配置的接口地址生效了。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">在经过这样的配置之后，我们在运行</p><div class="wiz-code-container" id="wiz_cm_1504260142680_5059"  data-mode="JavaScript" data-theme="default"><textarea style="display: none;">npm run dev</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142680_5059"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 29px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">npm</span> <span class="cm-variable">run</span> <span class="cm-variable">dev</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 29px;"></div><div class="CodeMirror-gutters" style="height: 59px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">的时候，跑的就是测试接口。而我们运行</p><div class="wiz-code-container" id="wiz_cm_1504260142626_6741"  data-mode="JavaScript" data-theme="default"><textarea style="display: none;">npm run build</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142626_6741"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9916px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 29px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9091px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">npm</span> <span class="cm-variable">run</span> <span class="cm-variable">build</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 29px;"></div><div class="CodeMirror-gutters" style="height: 59px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">打包项目的时候，打包的是服务器正式接口，我们就不用调来调去得了。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">祝开心！</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">本文由 FungLeo 原创，允许转载，但必须保留首发链接。</p><h2 id="2017年06月19日更新" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t4" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>2017年06月19日更新</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">上面的方法是没有问题的。但是需要重新运行<span> </span><code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">npm run dev</code><span> </span>重新跑项目才能成功。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">另外，为了解决跨域问题以及其他，我现在不推荐采用这种方式调用接口，而是采用webpack自带的代理功能来实现接口的调用。具体方法参见《<a href="http://blog.csdn.net/fungleo/article/details/72650409" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);">webpack+vue-cil 配置接口地址代理以及将项目打包到子目录的方法</a>》</p><h1 id="vue-利用-webpack-给生产环境和发布环境配置不同的接口地址" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.6rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">VUE 利用 webpack 给生产环境和发布环境配置不同的接口地址</h1><h2 id="前言" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t1" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>前言</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">我们在开发项目的时候，往往会在同一个局域网进行开发，前后端分离同时进行开发。我们前端调用后端给的接口也是在局域网内部的。但是，当项目推到线上的时候，我们会从真实服务器上获取接口，因此，我们可能在<a href="http://lib.csdn.net/base/softwaretest" class="replace_word" title="软件测试知识库" target="_blank" style="text-decoration:none;color:rgb(223, 52, 52);font-weight:bold;">测试</a>接口和真实接口之间频繁切换，让人十分恶心。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">因此，我们有必要想办法解决这个问题。</p><blockquote style="margin:0px 0px 1.1em;padding:15px 20px;background-color:rgba(128, 128, 128, 0.05);color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;"><h2 id="第一步分别设置不同的接口地址" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t2" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>第一步，分别设置不同的接口地址</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">首先，我们分别找到下面的文件：</p><div class="wiz-code-container" id="wiz_cm_1504260142923_7141"  data-mode="JavaScript" data-theme="default"><textarea style="display: none;">/config/dev.env.js
/config/prod.env.js</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142923_7141"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 50px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-string-2">/config/</span><span class="cm-variable">dev</span>.<span class="cm-property">env</span>.<span class="cm-property">js</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">/</span><span class="cm-variable">config</span><span class="cm-operator">/</span><span class="cm-variable">prod</span>.<span class="cm-property">env</span>.<span class="cm-property">js</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="height: 80px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">其实，这两个文件就是针对生产环境和发布环境设置不同参数的文件。我们打开<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">dev.en.<a href="http://lib.csdn.net/base/javascript" class="replace_word" title="JavaScript知识库" target="_blank" style="text-decoration:none;color:rgb(223, 52, 52);font-weight:bold;">js</a></code>文件。代码如下：</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142910_1819"  data-theme="default"><textarea style="display: none;">var merge = require('webpack-merge')
var prodEnv = require('./prod.env')

module.exports = merge(prodEnv, {
  NODE_ENV: '"development"'
})</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142910_1819"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 134px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">merge</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'webpack-merge'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">prodEnv</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'./prod.env'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">module</span>.<span class="cm-property">exports</span> <span class="cm-operator">=</span> <span class="cm-variable">merge</span>(<span class="cm-variable">prodEnv</span>, {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">NODE_ENV</span>: <span class="cm-string">'"development"'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="height: 164px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">好，我们在<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">NODE_ENV</code>下面增加一项，代码如下：</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142894_1174"  data-theme="default"><textarea style="display: none;">var merge = require('webpack-merge')
var prodEnv = require('./prod.env')

module.exports = merge(prodEnv, {
  NODE_ENV: '"development"',
  API_ROOT: '"//192.168.1.8/api"'
})</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142894_1174"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 155px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>7</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">merge</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'webpack-merge'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">prodEnv</span> <span class="cm-operator">=</span> <span class="cm-variable">require</span>(<span class="cm-string">'./prod.env'</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text=""></span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">module</span>.<span class="cm-property">exports</span> <span class="cm-operator">=</span> <span class="cm-variable">merge</span>(<span class="cm-variable">prodEnv</span>, {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">NODE_ENV</span>: <span class="cm-string">'"development"'</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">API_ROOT</span>: <span class="cm-string">'"//192.168.1.8/api"'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">})</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 155px;"></div><div class="CodeMirror-gutters" style="height: 185px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">然后，我们编辑<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">prod.env.js</code>文件，</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142881_2233"  data-theme="default"><textarea style="display: none;">module.exports = {
  NODE_ENV: '"production"',
  API_ROOT: '"//www.baidu.com/api"'
}</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142881_2233"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 92px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>4</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">module</span>.<span class="cm-property">exports</span> <span class="cm-operator">=</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">NODE_ENV</span>: <span class="cm-string">'"production"'</span>,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-property">API_ROOT</span>: <span class="cm-string">'"//www.baidu.com/api"'</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;"></div><div class="CodeMirror-gutters" style="height: 122px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">好。我们分别设定的路径已经有了。下面就是如何调用的问题了。</p><h2 id="第二部在代码中调用设置好的参数" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t3" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>第二部，在代码中调用设置好的参数</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">以我们之前的演示代码为例。你自己的项目请根据你自己的情况调整。以下文件和代码仅供参考。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">我们打开<code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">src/config/api.js</code>文件，将原来开头的代码</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142873_7587"  data-theme="default"><textarea style="display: none;">// 配置API接口地址
var root = 'https://cnodejs.org/api/v1'</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142873_7587"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 50px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 配置API接口地址</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">root</span> <span class="cm-operator">=</span> <span class="cm-string">'https://cnodejs.org/api/v1'</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="height: 80px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">修改为</p><div class="wiz-code-container" data-mode="JavaScript" id="wiz_cm_1504260142861_7159"  data-theme="default"><textarea style="display: none;">// 配置API接口地址
var root = process.env.API_ROOT</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142861_7159"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 50px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 配置API接口地址</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">root</span> <span class="cm-operator">=</span> <span class="cm-variable">process</span>.<span class="cm-property">env</span>.<span class="cm-property">API_ROOT</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 50px;"></div><div class="CodeMirror-gutters" style="height: 80px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">然后就完成了我们的配置工作。最后，重启项目，就能使新配置的接口地址生效了。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">在经过这样的配置之后，我们在运行</p><div class="wiz-code-container" id="wiz_cm_1504260142850_5337"  data-mode="JavaScript" data-theme="default"><textarea style="display: none;">npm run dev</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142850_5337"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 29px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">npm</span> <span class="cm-variable">run</span> <span class="cm-variable">dev</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 29px;"></div><div class="CodeMirror-gutters" style="height: 59px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">的时候，跑的就是测试接口。而我们运行</p><div class="wiz-code-container" id="wiz_cm_1504260142842_1836"  data-mode="JavaScript" data-theme="default"><textarea style="display: none;">npm run build</textarea><wiz_code_mirror><div class="CodeMirror cm-s-default CodeMirror-wrap" data-id="wiz_cm_1504260142842_1836"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.9915px; left: 33.6364px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;" tabindex="0"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 30px; margin-bottom: 0px; border-right-width: 30px; min-height: 29px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class=" wiz-hide wiz_CodeMirror-cursors"><div class="CodeMirror-cursor" style="left: 3.63636px; top: 0px; height: 20.9092px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class=" wiz-hide wiz_CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -30px; width: 30px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -30px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">npm</span> <span class="cm-variable">run</span> <span class="cm-variable">build</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 29px;"></div><div class="CodeMirror-gutters" style="height: 59px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></wiz_code_mirror></div><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">打包项目的时候，打包的是服务器正式接口，我们就不用调来调去得了。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">祝开心！</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">本文由 FungLeo 原创，允许转载，但必须保留首发链接。</p><h2 id="2017年06月19日更新" style="margin:0.8em 0px;padding:0px;font-weight:100;font-size:2.13rem;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-style:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);"><a name="t4" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);"></a>2017年06月19日更新</h2><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">上面的方法是没有问题的。但是需要重新运行<span> </span><code style="font-family:&quot;Source Code Pro&quot;, monospace;padding:2px 4px;font-size:0.844rem;color:rgb(63, 63, 63);background-color:rgba(128, 128, 128, 0.075);">npm run dev</code><span> </span>重新跑项目才能成功。</p><p style="margin:0px 0px 1.1em;padding:0px;color:rgb(63, 63, 63);font-family:&quot;microsoft yahei&quot;font-size:0.938rem;font-style:normal;font-weight:normal;text-align:start;text-indent:0px;background-color:rgb(255, 255, 255);">另外，为了解决跨域问题以及其他，我现在不推荐采用这种方式调用接口，而是采用webpack自带的代理功能来实现接口的调用。具体方法参见《<a href="http://blog.csdn.net/fungleo/article/details/72650409" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);">webpack+vue-cil 配置接口地址代理以及将项目打包到子目录的方法</a>》</p><p style="margin:0px;padding:0px;">本文是<span> </span><a href="http://blog.csdn.net/fungleo/article/details/53171052" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);">Vue2+VueRouter2+webpack 构建项目实战<span> </span><br></a>的后续文章。理解本文内容，需要VUE相关技术基础。</p></blockquote><p style="margin:0px;padding:0px;">本文是<span> </span><a href="http://blog.csdn.net/fungleo/article/details/53171052" target="_blank" style="text-decoration:none;color:rgb(12, 137, 207);">Vue2+VueRouter2+webpack 构建项目实战<span> </span><br></a>的后续文章。理解本文内容，需要VUE相关技术基础。</p></blockquote><!--WizHtmlContentEnd-->

</div>
</body>

</html>